(function(){var a=benignware.core.Class;function b(e){var c=e&&e.columns?e.columns:[];var d=e&&e.rows?e.rows:[];this.addColumn=function(g,f,h){c.push({type:g,label:f,pattern:h})};this.getColumnId=function(f){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(f)};this.setColumnLabel=function(g,f){if(c[g]){c[g].label=f}};this.getColumnLabel=function(f){return c[f]&&c[f].label?c[f].label:""};this.getColumnType=function(f){return c[f]&&c[f].type?c[f].type:null};this.getColumnPattern=function(f){return c[f]&&c[f].pattern?c[f].pattern:null};this.addRow=function(f){var h=d.length;for(var g=0;g<f.length;g++){this.setCell(h,g,f[g])}};this.getCell=function(g,f){return d[g][f]};this.setCell=function(h,f,g){row=d[h];if(!row){row=d[h]=[]}row[f]=g};this.getNumberOfColumns=function(){return c.length};this.getNumberOfRows=function(){return d.length};this.toJSON=function(){return{columns:c,rows:d}}}a.register("benignware.visualization.DataTable",b);return b})();(function(){var c=benignware.core.Class;function a(i,g,j,h){var f=d(i,g,j,h);for(var e in f){this[e]=f[e]}}c.register("benignware.visualization.NumericScale",a);a.prettyNumber=function(f,e){return b(f,e)};function b(f,e){var j=Math.log(f)/Math.log(10);var i=Math.floor(j);var h=f/Math.pow(10,i);var g;if(e){if(h<1.5){g=1}else{if(h<3){g=2}else{if(h<7){g=5}else{g=10}}}}else{if(h<=1){g=1}else{if(h<=2){g=2}else{if(h<=5){g=5}else{g=10}}}}return g*Math.pow(10,i)}function d(g,m,p,l){if(g==m){return{min:g,max:m,ticks:[],interval:0}}g=typeof g=="undefined"||isNaN(g)?0:g;m=typeof m=="undefined"||isNaN(m)?1:m;p=typeof p!="number"?10:p;l=typeof l=="undefined"?false:l;var o=Math.abs(m-g);var j=b(o,false);var f=b(j/p,true);if(f==0){}nmin=g-g%f;nmax=m-m%f;if(isNaN(nmin)||isNaN(nmax)){return}if(l){if(nmin>g){nmin-=f}if(nmax<m){nmax+=f}}else{if(nmin<g){nmin+=f}if(nmax<m){nmax+=f}}var k=(nmax-nmin)/f;if(l&&nmin+k*f==nmax){k++}var e=[];var n=nmin;for(var h=0;h<k;h++){e[h]=n;n+=f}if(l){g=nmin;m=nmax}return{interval:f,min:g,max:m,ticks:e}}return a})();(function(){var d=benignware.core.Class;var b=d.require("benignware.visualization.NumericScale");function e(k,i,l,j){var h=a(k,i,l,j);for(var g in h){this[g]=h[g]}}d.register("benignware.visualization.TimeScale",e);function f(k,j){var i=k;var h=j;var g=(h.getFullYear()-i.getFullYear())*12;g+=h.getMonth()-i.getMonth();if(h.getDate()<i.getDate()){g--}return g}function c(h,g){return new Date(g,h,0).getDate()}function a(t,y,A,w){var l=new Date(t);var n=new Date(y);var q=f(l,n);var z=l.getFullYear();if(!w){z++}var h=n.getFullYear();var p=new b(z,h,A,w);var r=new Date("1/1/1970");r.setFullYear(p.min);p.min=r.getTime();var u=new Date("1/1/1970");u.setFullYear(p.max);p.max=u.getTime();for(var v=0;v<p.ticks.length;v++){var k=p.ticks[v];var o=Math.floor(k);var j=(k-o)*12;var s=Math.floor(j);var m=(j-s)*c(s,o);var g=Math.floor(m);var x=new Date("1/1/1970");x.setFullYear(o);x.setMonth(s);x.setDate(g+1);p.ticks[v]=x.getTime()}return p}return e})();(function(){var a=benignware.core.Class;function b(){}a.register("benignware.visualization.SVGUtils",b);b.SVG_NAMESPACE="http://www.w3.org/2000/svg";b.create=function(f,e){var d=f.createElementNS(b.SVG_NAMESPACE,"svg");d.setAttribute("version","1.1");for(var c in e){d.setAttribute(c,e[c])}return d};b.createElement=function(g,e,d){var f=g.createElementNS(b.SVG_NAMESPACE,e);for(var c in d){f.setAttribute(c,d[c])}return f};b.clear=function(c){var e=c.childNodes;for(var d=0;d<e.length;d++){c.removeChild(e[d]);d--}};b.getLineHeight=function(c){var f=c.ownerDocument.createTextNode("A");c.appendChild(f);var e=b.getBBox(c);var d=e.height;c.removeChild(f);return d};b.renderText=function(h,j,d){if(typeof j!="string"){return j}var n=h.ownerDocument;var f=n.createTextNode("");h.appendChild(f);var p=[];var q=[];var e=0;var k=j.split(/\s+/);while(k.length){var c=k[0];h.firstChild.data=q.join(" ")+" "+c;e=h.getComputedTextLength();if(d>0&&e>d){if(!k.length){q.push(k[0])}if(q.length==0){p.push(k.shift())}else{p.push(q.join(" "))}q=[]}else{var m=k.shift();q.push(m)}if(k.length==0&&q.length){p.push(q.join(" "))}}h.removeChild(f);for(var g=0;g<p.length;g++){var q=p[g];var l=n.createElementNS(b.SVG_NAMESPACE,"tspan");l.appendChild(n.createTextNode(q));l.setAttribute("x",h.getAttribute("x"));l.setAttribute("dy","1em");h.appendChild(l)}var o=b.getBBox(h);return{width:o.width,height:o.height}};b.getBBox=function(c){try{return c.getBBox()}catch(d){return{x:0,y:0,width:0,height:0}}};b.renderList=function(r,q,s,j){j=j||{};var A=j.bullet||{};var d=A||{};var G=r.ownerDocument;var F=j.direction||"vertical";var m=0;var l=0;var n=0;var B=0;for(var v=0;v<q.length;v++){var D=q[v];var o=G.createElementNS(b.SVG_NAMESPACE,"text");o.setAttribute("font-size","13px");r.appendChild(o);var t=D.bullet&&D.bullet.type?D.bullet.type:A.type||"rect";if(t!="none"){var E=r.ownerDocument.createElementNS(b.SVG_NAMESPACE,t);r.appendChild(E)}var f=b.getLineHeight(o);var e=f/2;o.setAttribute("x",m+e+5);o.setAttribute("y",l-4);var k=F=="vertical"?s-f:0;b.renderText(o,D.label,k);bbox=b.getBBox(o);var g=bbox.width+f;var c=bbox.height;var C=m;var z=l;if(E){if(t=="circle"){E.setAttribute("cx",m+e/2);E.setAttribute("cy",l+f/2-2);E.setAttribute("r",e/2)}else{E.setAttribute("x",m);E.setAttribute("y",l+(f-e)/2-2);E.setAttribute("width",e);E.setAttribute("height",e)}var p=D.bullet&&D.bullet.style?D.bullet.style:{};var u=p.fill||d.fill||"#ff0000";E.setAttribute("fill",u)}if(F=="horizontal"){m+=g;if(m>s){l+=c;m=0}}else{l+=c}}n=s;B=l+c;return{width:n,height:B}};return b})();(function(){var b=benignware.core.Class;var d=b.require("benignware.core.Element");var j=b.require("benignware.core.Component");var i=b.require("benignware.core.Event");var h=b.require("benignware.util.Delegate");var g=b.require("benignware.util.StringUtils");var k=b.require("benignware.util.ArrayUtils");var c=b.require("benignware.util.CSS");var f=b.require("benignware.visualization.DataTable");var l=b.require("benignware.visualization.SVGUtils");var e;c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-0","color","blue");c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-1","color","red");c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-2","color","orange");c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-3","color","green");c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-4","color","violet");c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-5","color","yellow");c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-6","color","cyan");c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-7","color","brown");c.setDefaultStyle(".benignware-visualization-BaseChart .chart-color-8","color","gray");function a(){e.apply(this,arguments);var r=null;this.setDataTable=function(t){if(t.columns&&t.rows){t=new f(t)}r=t;this.invalidate()};this.getDataTable=function(){return r||new f()};var q="MM/dd/yyyy";this.setDatePattern=function(t){if(t!=q){q=t;this.invalidate()}};this.getDatePattern=function(){return q};var o="#.##";this.setNumberPattern=function(t){if(t!=o){o=t;this.invalidate()}};this.getNumberPattern=function(t){return o};var m=null;this.setTitle=function(t){if(t!=m){m=t;this.invalidate()}};this.getTitle=function(){if(m){return m}return null};var n=undefined;this.setCategoryIndex=function(t){if(n!=this.getCategoryIndex()){n=t;this.invalidate()}};this.getCategoryIndex=function(){if(typeof n!="undefined"){return n}return 0};this.getSeriesColumnIndices=function(){var v=this.getDataTable();var u=this.getCategoryIndex();var t=[];if(v){for(var w=0;w<v.getNumberOfColumns();w++){if(w!=u){t.push(w)}}}return t};var p=[];var s=null;this.setSeriesColors=function(t){if(typeof(t)=="string"){t=k.filter(t.split(","),function(u){return g.trim(u)})}if(p!=t){p=t;this.invalidate()}};this.getSeriesColors=function(){var u=this;var v=(function(){if(s){return s}s=[];var y=u.ownerDocument.createElement("div");y.className="chart-color-0";u.appendChild(y);var w=null;var x=0;while(w=d.getComputedStyle(y,"color")){s.push(w);x++;y.className="chart-color-"+x;if(x>12){break}}u.removeChild(y);return s})();var t=k.merge(v,p);return t}}b.register("benignware.visualization.BaseChart",a);b.extend(j,a);e=b.getParent(a);a.getFormattedValue=function(n,m){switch(typeof n){case"number":return g.formatNumber(n,m);case"date":case"object":if(typeof n=="number"){n=new Date(n)}return g.formatDate(n,m)}return n};a.prototype._update=function(){this._render()};a.prototype._render=function(){};return a})();(function(){var b=benignware.core.Class;var d=b.require("benignware.core.Element");var k=b.require("benignware.core.Component");var j=b.require("benignware.core.Event");var h=b.require("benignware.util.Delegate");var g=b.require("benignware.util.StringUtils");var c=b.require("benignware.util.CSS");var f=b.require("benignware.visualization.DataTable");var l=b.require("benignware.visualization.SVGUtils");var a=b.require("benignware.visualization.BaseChart");var e;c.setDefaultStyle(".benignware-visualization-VisualChart","width","600px");c.setDefaultStyle(".benignware-visualization-VisualChart","height","400px");function i(){e.apply(this,arguments);var m="right";this.setLegend=function(n){if(n!=m){m=n;this.invalidate()}};this.getLegend=function(){if(m){return m}return"none"}}i.LEGEND_TOP="top";i.LEGEND_RIGHT="right";i.LEGEND_BOTTOM="bottom";i.LEGEND_LEFT="left";i.LEGEND_NONE="none";b.register("benignware.visualization.VisualChart",i);b.extend(a,i);e=b.getParent(i);i.prototype._initialize=function(m){e._initialize.apply(this,arguments)};i.prototype.contentLayer=null;i.prototype._createChildren=function(){e._createChildren.apply(this,arguments);var n=this.ownerDocument;var m=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttribute("class","chart-gfx");m.setAttribute("version","1.1");this.appendChild(m);this.graphicsElem=m;this.contentLayer=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");m.appendChild(this.contentLayer);this.chartLayer=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");this.contentLayer.appendChild(this.chartLayer);this.legendLayer=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");this.contentLayer.appendChild(this.legendLayer);this.titleLayer=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");this.contentLayer.appendChild(this.titleLayer)};i.prototype._buildLegendItems=function(){var o=[];var s=this.getCategoryIndex();var m=this.getSeriesColors();var r=this.getDataTable();var q=0;for(var t=0;t<r.getNumberOfColumns();t++){if(t!=s){var p=r.getColumnLabel(t);var n=m[q];o.push({label:p,bullet:{type:"rect",style:{fill:n}}});q++}}return o};i.prototype.getChartMargin=function(){return{left:110,top:90,bottom:90,right:110}};i.prototype.getChartSize=function(){var m=this.getSize();var n=this.getChartMargin();return{width:m.width-n.left-n.right,height:m.height-n.top-n.bottom}};i.prototype._renderChart=function(){};i.prototype._render=function(){var z=this.getDataTable();if(!z||z.getNumberOfRows()==0){return}var L=this.graphicsElem;var E=d.getBorderMetrics(this,"border","padding");var I=d.getWidth(this);var F=d.getHeight(this);E=this.getChartMargin();var u=E.left;var s=E.top;var H=I-E.left-E.right;var O=F-E.top-E.bottom;H=Math.max(H,0);O=Math.max(O,0);var o=this.getChartMargin();var K=this.getChartSize();var P=K.width;var q=K.height;L.style.position="absolute";L.setAttribute("style","font-family: Arial; max-width: "+I+"px; width: 100%; height: auto;");L.setAttribute("height",F);L.setAttribute("viewBox","0 0 "+I+" "+F);L.setAttribute("preserveAspectRatio","xMinYMin meet");this.chartLayer.setAttribute("transform","");l.clear(this.chartLayer);this.legendLayer.setAttribute("transform","");l.clear(this.legendLayer);var w=this.getLegend();var n=10;if(w&&w!="none"){var G=this._buildLegendItems();var J=w=="right"||w=="left"?"vertical":"horizontal";var D;switch(w){case"right":D=o.right-n*2;break;case"left":D=o.left-n*2;break;case"bottom":D=I-o.left-n*2;break;case"top":D=I-o.left-n*2;break}var r={direction:J};var y=0;var x=0;var M=l.renderList(this.legendLayer,G,D,r);switch(w){case"right":y=o.left+P+n;x=o.top+n;break;case"left":y=o.left+n;x=o.top+n;break;case"bottom":y=o.left+n;x=o.top+q-M.height-n;break;case"top":y=o.left;x=o.top-M.height-n;break}this.legendLayer.setAttribute("transform","translate("+y+", "+x+")")}var v=o.left;var t=o.top;l.clear(this.titleLayer);var Q=this.getTitle();if(Q!=null){var C=v;var B=(w=="top"?x:t)-n;this.titleLayer.setAttribute("transform","translate("+C+", "+B+")");var A=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");A.style.fontSize="16px";A.style.fontWeight="bold";var N=this.ownerDocument.createTextNode(Q);A.appendChild(N);this.titleLayer.appendChild(A)}this.chartLayer.setAttribute("transform","translate("+v+", "+t+")");l.clear(this.chartLayer);var p=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","clipPath");p.setAttribute("id","chart-clip");this.chartLayer.appendChild(p);var m=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("x",0);m.setAttribute("y",0);m.setAttribute("width",P);m.setAttribute("height",q);m.setAttribute("fill","#afafaf");p.appendChild(m);this.chartLayer.setAttribute("clip-path","url(#chart-clip)");this._renderChart(P,q)};return i})();(function(){var b=benignware.core.Class;var d=b.require("benignware.core.Element");var m=b.require("benignware.core.Component");var l=b.require("benignware.core.Event");var h=b.require("benignware.util.Delegate");var g=b.require("benignware.util.StringUtils");var o=b.require("benignware.util.ArrayUtils");var c=b.require("benignware.util.CSS");var a=b.require("benignware.visualization.BaseChart");var k=b.require("benignware.visualization.VisualChart");var f=b.require("benignware.visualization.DataTable");var n=b.require("benignware.visualization.NumericScale");var i=b.require("benignware.visualization.TimeScale");var q=b.require("benignware.visualization.SVGUtils");var e;function p(){e.apply(this,arguments);var r=false;this.setSwitchAxes=function(s){r=g.toBoolean(s);this.invalidate()};this.getSwitchAxes=function(){return r}}b.register("benignware.visualization.CartesianChart",p);b.extend(k,p);e=b.getParent(p);p.prototype._createChildren=function(){e._createChildren.apply(this,arguments);this.axesLayer=this.ownerDocument.createElementNS(q.SVG_NAMESPACE,"g");this.contentLayer.insertBefore(this.axesLayer,this.chartLayer);this.xAxisGridLayer=this.ownerDocument.createElementNS(q.SVG_NAMESPACE,"g");this.xAxisGridLayer.setAttribute("class","x-grid");this.axesLayer.appendChild(this.xAxisGridLayer);this.yAxisGridLayer=this.ownerDocument.createElementNS(q.SVG_NAMESPACE,"g");this.yAxisGridLayer.setAttribute("class","y-grid");this.axesLayer.appendChild(this.yAxisGridLayer);this.yAxisTicksLayer=this.ownerDocument.createElementNS(q.SVG_NAMESPACE,"g");this.yAxisTicksLayer.setAttribute("class","y-ticks");this.axesLayer.appendChild(this.yAxisTicksLayer);this.xAxisTicksLayer=this.ownerDocument.createElementNS(q.SVG_NAMESPACE,"g");this.yAxisTicksLayer.setAttribute("class","x-ticks");this.axesLayer.appendChild(this.xAxisTicksLayer)};function j(x,w){var t=null;var s=null;for(var u=0;u<x.getNumberOfRows();u++){for(var y=0;y<x.getNumberOfColumns();y++){if(o.contains(w,y)){var v=x.getCell(u,y);if(x.getColumnType(y)=="date"&&v.getTime){v=v.getTime()}t=t!=null?Math.min(t,v):v;s=s!=null?Math.max(s,v):v}}}return{min:t!=null?t:0,max:s!=null?s:x.getNumberOfRows()-1}}p.prototype._renderChart=function(s,r){e._renderChart.apply(this,arguments);this._renderAxes()};p.prototype.getCategoryScale=function(){var v=this.getDataTable();var t=this.getSwitchAxes();var D=this.getChartSize();var z=Math.ceil((t?D.height:D.width)/50);var y=this.getCategoryIndex();var A=v.getColumnType(y);var B=j(v,[y]);var x=false;var w=null;switch(A){case"date":w=new i(B.min,B.max,z,x);break;case"number":w=new n(B.min,B.max,z,x);break;case"string":var u=[];for(var s=0;s<v.getNumberOfRows();s++){var C=v.getCell(s,y);u.push(s)}w={min:0,max:v.getNumberOfRows(),ticks:u,interval:1}}return w};p.prototype.getValueScale=function(){var s=this.getDataTable();var r=this.getSwitchAxes();var B=this.getChartSize();var z=Math.ceil((r?B.width:B.height)/50);var A=this.getCategoryIndex();var y=A!=0?0:1;var t=s.getColumnType(y);var v=[];for(var w=0;w<s.getNumberOfColumns();w++){if(w!=A){v.push(w)}}var x=j(s,v);var u=t=="date"?new i(x.min,x.max,z,true):new n(x.min,x.max,z,true);return u};p.prototype._renderAxes=function(I,aj){var R=this.getDataTable();this.axesLayer.setAttribute("transform",this.chartLayer.getAttribute("transform"));var Q=this.getChartSize();var I=Q.width;var aj=Q.height;var r=this.getChartMargin();var H=this.getSwitchAxes();var aa=this.getSeriesColors();var al=this.getCategoryIndex();var W=R.getColumnType(al);var s=al!=0?0:1;var U=R.getColumnType(s);var z=[];for(var ak=0;ak<R.getNumberOfColumns();ak++){if(ak!=al){z.push(ak)}}var Y=Math.min(7,R.getNumberOfRows()-1);var ae=j(R,[al]);categoryScale=this.getCategoryScale();var F=j(R,z);var t=this.getValueScale();var L=H?t:categoryScale;var K=H?categoryScale:t;q.clear(this.yAxisGridLayer);for(var ai=0;ai<K.ticks.length;ai++){var D=K.ticks[ai];var A=(D-K.min)/(K.max-K.min);var T=Math.floor(aj-A*aj);var N=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","line");this.yAxisGridLayer.appendChild(N);N.setAttribute("x1",0);N.setAttribute("x2",I);N.setAttribute("y1",T);N.setAttribute("y2",T);N.setAttribute("stroke","#efefef");N.setAttribute("stroke-width","1");N.setAttribute("class","grid-line horizontal-grid")}var N=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","line");this.yAxisGridLayer.appendChild(N);N.setAttribute("x1",0);N.setAttribute("x2",0);N.setAttribute("y1",0);N.setAttribute("y2",aj);N.setAttribute("stroke","#000000");N.setAttribute("stroke-width","1");N.setAttribute("class","axis-line vertical-axis");q.clear(this.xAxisGridLayer);for(var ai=0;ai<L.ticks.length;ai++){var E=L.ticks[ai];var B=(E-L.min)/(L.max-L.min);var V=Math.floor(B*I);var N=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","line");this.xAxisGridLayer.appendChild(N);N.setAttribute("x1",V);N.setAttribute("x2",V);N.setAttribute("y1",0);N.setAttribute("y2",aj);N.setAttribute("stroke","#efefef");N.setAttribute("stroke-width","1");N.setAttribute("class","grid-line vertical-grid")}var N=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","line");this.xAxisGridLayer.appendChild(N);N.setAttribute("x1",0);N.setAttribute("x2",I);N.setAttribute("y1",aj);N.setAttribute("y2",aj);N.setAttribute("stroke","#000000");N.setAttribute("stroke-width","1");N.setAttribute("class","axis-line horizontal-axis");var af=5;q.clear(this.yAxisTicksLayer);var S=r.left-af*2;for(var ai=0;ai<K.ticks.length;ai++){var P=K.ticks[ai];var C=(P-K.min)/(K.max-K.min);var T=Math.floor(aj-C*aj);var ag=H?al:s;var ac="";switch(R.getColumnType(ag)){case"date":case"number":var Z=R.getColumnType(ag)=="date"?new Date(P):P;var u=R.getColumnPattern(ag)||this.getDatePattern();ac=a.getFormattedValue(Z,u);break;case"string":var G=R.getNumberOfRows()-1-P;ac=R.getCell(G,ag);break}var ab=this.ownerDocument.createElementNS(q.SVG_NAMESPACE,"text");this.yAxisTicksLayer.appendChild(ab);ab.setAttribute("x",-af);ab.setAttribute("font-size","10px");var M=q.renderText(ab,ac,S);ab.setAttribute("text-anchor","end");ab.setAttribute("y",T-M.height/2)}q.clear(this.xAxisTicksLayer);var S=I/L.ticks.length-af*2;var J=false;var w=true;var O=[];for(var ai=0;ai<L.ticks.length;ai++){var P=L.ticks[ai];var C=(P-L.min)/(L.max-L.min);var X=Math.floor(C*I);var ag=H?s:al;var ac="";switch(R.getColumnType(ag)){case"date":case"number":var Z=R.getColumnType(ag)=="date"?new Date(P):P;var u=R.getColumnPattern(ag)||this.getDatePattern();ac=a.getFormattedValue(Z,u);break;case"string":ac=R.getCell(P,ag);break}var ab=this.ownerDocument.createElementNS(q.SVG_NAMESPACE,"text");ab.setAttribute("font-size","10px");this.xAxisTicksLayer.appendChild(ab);ab.setAttribute("x",X);var M=q.renderText(ab,ac,S);ab.setAttribute("text-anchor","middle");var T=aj+af;if(ab.getComputedTextLength()>S){J=true;var ah=q.getLineHeight(ab);if(M.height>ah+0.1){w=true}}ab.setAttribute("y",T);O.push({x:X,y:T,width:M.width,height:M.height,svg:ab})}if(J){for(var ai=0;ai<O.length;ai++){var ad=O[ai];if(w){ad.svg.setAttribute("text-anchor","end");ad.svg.setAttribute("transform","rotate(-32 "+ad.x+","+ad.y+")")}else{if(ai%2==0){ad.svg.setAttribute("dx","1em")}}}}};return p})();(function(){var a=benignware.core.Class;var c=a.require("benignware.core.Element");var i=a.require("benignware.core.Component");var h=a.require("benignware.core.Event");var g=a.require("benignware.util.Delegate");var f=a.require("benignware.util.StringUtils");var b=a.require("benignware.util.CSS");var j=a.require("benignware.visualization.CartesianChart");var e;function d(){e.apply(this,arguments)}a.register("benignware.visualization.LineChart",d);a.extend(j,d);e=a.getParent(d);d.prototype._initialize=function(k){e._initialize.apply(this,arguments)};d.prototype._createChildren=function(){e._createChildren.apply(this,arguments)};d.prototype._renderChart=function(){e._renderChart.call(this);this._renderGraphs()};d.prototype._renderGraphs=function(){var w=this.getDataTable();var M=this.getCategoryIndex();var v=this.getCategoryScale();if(v.min==v.max){return}var O=this.getValueScale();var H=this.getChartSize();var L=H.width;var o=H.height;var t=this.getSeriesColors();var q=[];for(var B=0;B<w.getNumberOfRows();B++){var n=B;if(M!=null){n=w.getCell(B,M);if(w.getColumnType(M)=="date"){n=n.getTime()}if(w.getColumnType(M)=="string"){n=B}}for(var N=0;N<w.getNumberOfColumns();N++){if(N!=M){var l=w.getColumnId(N);var m=q[l]?q[l]:q[l]=[];var G=w.getCell(B,N);if(w.getColumnType(N)=="date"){G=G.getTime()}if(w.getColumnType(N)=="string"){G=B}if(n<v.min){}var k=(n-v.min)/(v.max-v.min);var D=(G-O.min)/(O.max-O.min);var A=k;var z=D;var u=Math.floor(A*L);var s=Math.floor(o-z*o);m.push({x:u,y:s});J++}}}var P=0;for(var l in q){var K=q[l];var F=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","path");this.chartLayer.appendChild(F);var E="M";for(var J=0;J<K.length;J++){var C=K[J];if(J>0){E+="L"}E+=C.x+" "+C.y+" "}var I=t[P];F.setAttribute("d",E);F.setAttribute("stroke",I);F.setAttribute("stroke-width","1");F.setAttribute("fill","none");P++}};return d})();(function(){var a=benignware.core.Class;var d=a.require("benignware.core.Element");var i=a.require("benignware.core.Component");var h=a.require("benignware.core.Event");var g=a.require("benignware.util.Delegate");var f=a.require("benignware.util.StringUtils");var b=a.require("benignware.util.CSS");var j=a.require("benignware.visualization.CartesianChart");var e;function c(){e.apply(this,arguments)}a.register("benignware.visualization.ColumnChart",c);a.extend(j,c);e=a.getParent(c);c.prototype._initialize=function(k){e._initialize.apply(this,arguments)};c.prototype._createChildren=function(){e._createChildren.apply(this,arguments)};c.prototype._render=function(){e._render.call(this)};c.prototype._renderChart=function(l,k){e._renderChart.apply(this,arguments);this._renderColumns()};c.prototype._renderColumns=function(){var B=this.getDataTable();var M=this.getCategoryIndex();var A=this.getCategoryScale();var O=this.getValueScale();var I=this.getChartSize();var L=I.width;var p=I.height;var u=this.getSeriesColors();var C=this.getSwitchAxes();var q=this.getSeriesColumnIndices().length;var s=A.interval/(A.max-A.min);var n=s/q/2;for(var F=0;F<B.getNumberOfRows();F++){var o=F;if(M!=null){o=B.getCell(F,M);if(B.getColumnType(M)=="date"){o=o.getTime()}if(B.getColumnType(M)=="string"){o=F}}var J=0;for(var N=0;N<B.getNumberOfColumns();N++){if(N!=M){var l=B.getColumnId(N);var H=B.getCell(F,N);if(B.getColumnType(N)=="date"){H=H.getTime()}var k=(o-A.min)/(A.max-A.min);var G=(H-O.min)/(O.max-O.min);var k=k+(s-q*n)/2+J*n;var E=C?G:k;var D=C?k:G;var v,t,z,K;if(C){v=0;t=Math.floor(D*p);z=E*L;K=n*p}else{v=Math.floor(E*L);t=Math.floor(p-D*p);z=n*L;K=p-t}var m=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("x",v);m.setAttribute("y",t);m.setAttribute("width",z);m.setAttribute("height",K);m.setAttribute("fill",u[J]);this.chartLayer.appendChild(m);J++}}}if(C){this.yAxisTicksLayer.setAttribute("transform","translate(0,-"+s/2*p+")")}else{this.xAxisTicksLayer.setAttribute("transform","translate("+s/2*L+",0)")}};return c})();(function(){var a=benignware.core.Class;var c=a.require("benignware.core.Element");var j=a.require("benignware.core.Component");var i=a.require("benignware.core.Event");var h=a.require("benignware.util.Delegate");var g=a.require("benignware.util.StringUtils");var b=a.require("benignware.util.CSS");var d=a.require("benignware.visualization.ColumnChart");var f;function e(){f.apply(this,arguments);this.setSwitchAxes(true)}a.register("benignware.visualization.BarChart",e);a.extend(d,e);f=a.getParent(e);return e})();(function(){var a=benignware.core.Class;var c=a.require("benignware.core.Element");var j=a.require("benignware.core.Component");var i=a.require("benignware.core.Event");var g=a.require("benignware.util.Delegate");var f=a.require("benignware.util.StringUtils");var b=a.require("benignware.util.CSS");var h=a.require("benignware.visualization.VisualChart");var e=a.require("benignware.visualization.DataTable");var d;function k(){d.apply(this,arguments)}a.register("benignware.visualization.PieChart",k);a.extend(h,k);d=a.getParent(k);k.prototype._initialize=function(l){d._initialize.apply(this,arguments)};k.prototype._createChildren=function(){d._createChildren.apply(this,arguments)};k.prototype._buildLegendItems=function(){var n=[];var s=this.getCategoryIndex();var l=this.getSeriesColors();var q=this.getDataTable();for(var p=0;p<q.getNumberOfRows();p++){var o=q.getCell(p,s);var m=l[p];n.push({label:o,bullet:{type:"rect",style:{fill:m}}})}return n};k.prototype._render=function(){d._render.call(this)};k.prototype._renderChart=function(v,V){var I=this.getChartSize();var v=I.width;var V=I.height;var K=this.chartLayer;var Q=Math.min(v,V)/2;var M=v/2;var L=V/2;var u=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","circle");u.setAttribute("cx",M);u.setAttribute("cy",L);u.setAttribute("r",Q);u.setAttribute("fill","#afafaf");K.appendChild(u);var aa=this.getCategoryIndex();var G=0;var X=null;var A=null;var Y=[];var J=this.getDataTable();for(var R=0;R<J.getNumberOfRows();R++){for(var W=0;W<J.getNumberOfColumns();W++){var F=J.getCell(R,W);var O=parseFloat(F);if(W!=aa){X=X!=null?Math.min(X,O):O;A=A!=null?Math.max(A,O):O;G+=O;Y.push(O)}}}var P=this.getSeriesColors();var C=M,B=L-Q;var O=0;var z=[];var D=Q*0.75;var w=0;for(var U=0;U<Y.length;U++){O+=Y[U];var T=O/G;var N=T*Math.PI*2;var t=M+Math.sin(N)*Q;var o=L-Math.cos(N)*Q;var n=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","path");var H="M"+M+" "+L+" L"+C+" "+B+" A"+Q+","+Q+" 0 0,1 "+t+","+o+" Z";n.setAttribute("d",H);var E=P[U]||"black";n.setAttribute("style","fill-opacity: 1;");n.setAttribute("stroke","white");n.setAttribute("stroke-width","2");n.setAttribute("fill",E);K.appendChild(n);C=t;B=o;var Z=w+(N-w)/2;var m=M+Math.sin(Z)*D;var l=L-Math.cos(Z)*D;w=N;var s=this.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");var E=P[U]||"black";s.setAttribute("x",m);s.setAttribute("y",l);s.setAttribute("text-anchor","middle");var S=(Y[U]/G*100).toFixed(1);var q=this.ownerDocument.createTextNode(S);s.appendChild(q);K.appendChild(s)}};return k})();(function(){var b=benignware.core.Class;var d=b.require("benignware.core.Element");var j=b.require("benignware.core.Component");var i=b.require("benignware.core.Event");var h=b.require("benignware.util.Delegate");var g=b.require("benignware.util.StringUtils");var c=b.require("benignware.util.CSS");var f=b.require("benignware.visualization.DataTable");var l=b.require("benignware.visualization.SVGUtils");var a=b.require("benignware.visualization.BaseChart");var e;function k(){e.apply(this,arguments)}b.register("benignware.visualization.TableChart",k);b.extend(a,k);e=b.getParent(k);k.prototype._tableElem=null;k.prototype._createChildren=function(){e._createChildren.apply(this,arguments);this._tableElem=this.ownerDocument.createElement("table");this.appendChild(this._tableElem)};k.prototype._render=function(){var z=this.ownerDocument;var B,u,n,p;B=this._tableElem;B.style.fontFamily="Arial";B.style.fontSize="12px";B.style.border="1px solid #efefef";B.style.borderCollapse="collapse";B.style.marginBottom="1.5em";this._tableElem.innerHTML="";var o=this.getDataTable();var w=this.getTitle();if(w){var C=z.createElement("caption");C.style.fontSize="16px";C.style.fontWeight="bold";C.style.textAlign="left";C.style.paddingBottom="3px";C.innerHTML=w;B.appendChild(C)}u=z.createElement("tr");this._tableElem.appendChild(u);for(var t=0;t<o.getNumberOfColumns();t++){var v=o.getColumnLabel(t);if(v){n=z.createElement("th");n.style.border="1px solid #dfdfdf";n.style.textAlign="center";n.style.backgroundColor="#efefef";n.style.wordWrap="break-word";n.style.padding="5px";n.innerHTML=v;u.appendChild(n)}}for(var m=0;m<o.getNumberOfRows();m++){u=z.createElement("tr");this._tableElem.appendChild(u);var q=m%2;for(var t=0;t<o.getNumberOfColumns();t++){var A=o.getCell(m,t);var y=o.getColumnType(t);var v="";switch(y){case"date":case"number":var x=y=="date"?new Date(A):A;var s=o.getColumnPattern(t);v=a.getFormattedValue(x,s);break;case"string":var D=o.getNumberOfRows()-1-A;v=o.getCell(m,t);break}p=z.createElement("td");p.style.border="1px solid #efefef";p.style.backgroundColor=q?"#fafafa":"";p.style.padding="5px";p.style.textAlign=t==0?"left":"right";u.appendChild(p);p.innerHTML=v}if(m>25){break}}};return k})();(function(){var b=benignware.core.Class;var a=b.require("benignware.core.Event");var d=b.require("benignware.util.Delegate");var e=b.require("benignware.util.StringUtils");function c(g,f){}c.prototype.render=function(){};b.register("benignware.visualization.ChartWrapper",c);return c})();